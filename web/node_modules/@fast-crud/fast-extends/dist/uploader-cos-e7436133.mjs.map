{"version":3,"file":"uploader-cos-e7436133.mjs","sources":["../../src/uploader/components/libs/uploader-cos.ts"],"sourcesContent":[null],"names":["getOssClient","options","client","secretId","secretKey","getAuthorization","COS","opts","callback","data","dayjs","doUpload","file","fileName","onProgress","key","buildKey","config","cos","resolve","reject","progressEvent","e","err","result","upload","context","getConfig","useUploader","global","_"],"mappings":";;;;;;AAMM,SAAUA,EAAaC,GAA6B;AACxD,MAAIC,IAAS;AACb,QAAMC,IAAWF,EAAQ,UACnBG,IAAYH,EAAQ,WACpBI,IAAmBJ,EAAQ;AACjC,SAAI,CAACE,KAAY,CAACC,KAAaC,IAC7BH,IAAS,IAAII,EAAI;AAAA;AAAA,IAEf,iBAAiBC,GAAMC,GAAQ;AAE7B,MAAAH,EAAiBJ,CAAO,EAAE,KAAK,CAACQ,MAAQ;AACtC,QAAIA,EAAK,eAAe,OAAOA,EAAK,eAAgB,aAClDA,EAAK,cAAcC,EAAMD,EAAK,WAAW,EAAE,SAE7CD,EAASC,CAAI;AAAA,MAAA,CACd;AAAA,IACH;AAAA,EAAA,CACD,KAED,QAAQ,KAAK,0CAA0C,GACvDP,IAAS,IAAII,EAAI;AAAA,IACf,UAAUH;AAAA,IACV,WAAWC;AAAA,EAAA,CACZ,IAGIF;AACT;AACA,eAAeS,EAAS,EAAE,MAAAC,GAAM,UAAAC,GAAU,YAAAC,GAAY,SAAAb,KAAoC;AACxF,QAAMc,IAAM,MAAMC,EAASJ,GAAMC,GAAUZ,CAAO,GAC5CgB,IAAShB,GAETiB,IAAMlB,EAAaiB,CAAM;AAC/B,SAAO,IAAI,QAAQ,CAACE,GAASC,MAAU;AAKrC,IAAAF,EAAI,UACF;AAAA,MACE,QAAQD,EAAO;AAAA,MACf,QAAQA,EAAO;AAAA,MACf,KAAKF;AAAA,MACL,MAAMH;AAAA,MACN,WAAWS,GAAa;AACtB,cAAMC,IAAID;AACN,QAAAC,EAAE,QAAQ,MACZA,EAAE,UAAU,KAAK,MAAOA,EAAE,SAASA,EAAE,QAAS,GAAG,IAEnDR,EAAWQ,CAAC;AAAA,MACd;AAAA,IAAA,GAEF,eAAgBC,GAAKd,GAAI;AACvB,UAAIc,KAAO,MAAM;AACf,gBAAQ,MAAMA,CAAG,GACjBH,EAAOG,CAAG;AACV;AAAA,MACD;AACD,UAAIC,IAAc,EAAE,KAAKP,EAAO,SAAS,MAAMF,GAAK,KAAAA;AACpD,UAAIE,EAAO,eAAe;AACf,QAAAO,IAAA,MAAMP,EAAO,cAAcO,CAAM,GAC1CL,EAAQK,CAAM;AACd;AAAA,MACD;AACD,MAAAL,EAAQK,CAAM;AAAA,IAAA,CACf;AAAA,EAAA,CAEJ;AACH;AAEA,eAAsBC,EAAOC,GAAkC;AACvD,QAAA,EAAE,WAAAC,MAAcC,KAChBC,IAASF,EAAU,KAAK,GACxB1B,IAAUyB,EAAQ,SAClBT,IAASa,EAAE,MAAMA,EAAE,UAAUD,CAAM,GAAG5B,CAAO;AACnD,SAAAyB,EAAQ,UAAUT,GACX,MAAMN,EAASe,CAAO;AAC/B;"}